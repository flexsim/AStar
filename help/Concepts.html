<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>AStar Navigator Concepts</title>
  <meta name="keywords" content="">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <link rel="stylesheet" type="text/css" href="../../../help/FlexsimHelp.css">
  <link rel="stylesheet" type="text/css" href="../../../help/shadowbox/shadowbox.css">
</head>

<body bgcolor="#FFFFFF">
<h2>A* Navigator Concepts</h2>

<p><img alt="" src="Images/AStar.png" 
	class="autoresize" style="width: 856px; height: 577px;"/></p>

<h3>Topics</h3>
<ul class="topiclist">
	<li><a href="#TravelMembers">Travel Members</a></li>
	<li><a href="#Barriers">Barriers</a></li>
	<li><a href="#DeepSearch">Deep Search</a></li>
	<li><a href="#CachedPaths">Cached Paths</a></li>
	<li><a href="#DrawModes">Draw Modes</a></li>
</ul>

<br/>

<p>A Star, also known as A*, is a search algorithm used to find a path between points. As seen in the above image, the algorithm uses a grid 
of nodes that Task Executer objects (travel members) travel through. Each node specifies in which direction travel members can move.  In the 
above images, the + lines represent these nodes.  Each line points in the direction that can be travelled. The algorithm will look at nodes 
in the direction of travel and determine which direction is the fastest, including travelling diagonally between nodes.  For more information 
see the <a href="#DeepSearch">Deep Search</a>. The grid of nodes can be modified by creating <a href="#Barriers">Barriers</a> restricting where 
the travel members can move or even influencing them to travel along certain paths.</p>

<p>A model may only contain one A* Navigator object, but it may have any number of barriers or members associated with it.</p>

<p>Visit <a href="http://en.wikipedia.org/wiki/A*_search_algorithm">Wikipedia</a> for more information on how the algorithm works.</p>

<p class="note"><span class="emphasis">Note on performance: </span>The A* algorithm requires more processing than a standard network node path.
The search begins and the start node, then searches surrounding nodes toward the destination node.  In a large model with many barriers, this search can
cover a large amount of nodes. Performance can be improved through <a href="#CachedPaths">Cached Paths</a>.</p>

<p>When the A* Module is loaded, the Library Icon Grid will display the following new objects:</p>

<p><img alt="" src="Images/Library.png" 
	class="autoresize" style="width: 180px; height: 119px;"/></p>

<p>Barriers can be created by single-clicking on the desired barrier, then clicking in the 3D view at the desired start and end points.</p>
	

<h3><a name="TravelMembers">Travel Members</a></h3>

<p><img alt="" src="Images/TaskExecuter.png" 
	class="autoresize" style="width: 137px; height: 110px;"/></p>

<p>To connect TaskExecuter objects to the A* Navigator, hold down the 'A' key and click and drag from the A* Navigator object to the
TaskExecuter object, or from the TaskExecuter object to the A* Navigator object. If the <a href="#DrawModes">Draw Mode</a> is set to Show Members, 
a blue circle will be drawn below the connected TaskExecuter objects.</p>

<p>If the <a href="#DrawModes">Draw Mode</a> is set to Show Traffic, red arrows will be draw along travel member paths.  These paths decay (fade out) if they are
not travelled upon.  This allows you to see the most frequently travelled paths. If travel members are using the same paths frequently, it may be useful
to <a href="#CachedPaths">Cache Paths</a>. This will improve performance.</p>

<p>A list of members and their current state can be found on the <a href="Reference.html">A* Navigator's Properties Page</a>.</p>

<p class="note"><span class="emphasis">Note on Travel Members: </span>The AStar grid, or bounds, must cover the entire working area of Travel Members.  This
will help avoid issues that can occur when a Travel Member leaves the grid during offset travel.</p>


<h3><a name="Barriers">Barriers</a></h3>

<p>There are 5 types of barriers used by the A* Navigator. These barriers modify the grid used in the search algorithm.</p>

<p class="note"><span class="emphasis">Note: </span>Once barriers are created or modified, the model must be reset in order to recalculate the node table.</p>

<h4>Solid Barrier</h4>

<p><img alt="" src="Images/SolidBarrier.png" 
	class="autoresize" style="width: 239px; height: 239px;"/></p>

<p>The simplest of barriers, the solid barrier modifies the grid to remove a rectangular area, preventing travel members from moving into the barrier.</p>
	
<h4>Divider</h4>

<p><img alt="" src="Images/Divider.png" 
	class="autoresize" style="width: 282px; height: 173px;"/></p>

<p>Dividers disconnect nodes along their path, preventing travel members from crossing the divider. Dividers can be modified in the 3D view by
dragging the end or middle points.</p>
	
<p>Any number of points may be added to a divider.</p>
	
<h4>One-Way Divider</h4>

<p><img alt="" src="Images/OneWayDivider.png" 
	class="autoresize" style="width: 293px; height: 60px;"/></p>

<p>The one-way divider works very similarly to the divider, however, travel members are allowed to move through the divider in the direction of the
green arrows, in this case, toward the top of the page. One-way dividers can be modified in the 3D view by dragging the end or middle points.</p>
	
<p>Any number of points may be added to a one-way divider.</p>

<h4>Preferred Path</h4>

<p><img alt="" src="Images/PreferredPath.png" 
	class="autoresize" style="width: 326px; height: 50px;"/></p>
	
<p>Though the preferred path is not an actual barrier, it does function in the same way barriers do to modify the A* Navigator's node table.  
Instead of altering nodes by removing their directional indicators, the preferred path gives a greater weight to all of the nodes associated
with the path.  This Path Weight value can be changed through the A* Navigator's <a href="Reference.html">properties window</a>.  The path weight
must be greater than 0 and less than 1 in order to function properly.  Values above or below this can cause unintentional results. Preferred paths can 
be modified in the 3D view by dragging the end or middle points.</p>

<p>Preferred path's are one directional. Any number of points may be added to a preferred path.</p>

<h4>FixedResource Barriers</h4>

<p><img alt="" src="Images/ObjectBarrier.png" 
	class="autoresize" style="width: 208px; height: 171px;"/></p>

<p>FixedResource objects can be added to the A* Navigator as barriers. This can be down by holding the 'A' key down and clicking and dragging from the
FixedResource object to the A* Navigator object, or by clicking on the A* Navigator object and dragging to the FixedResource object. If the 
<a href="#DrawModes">Draw Mode</a> is set to Show Members, a blue box will be drawn below the connected FixedResource objects.</p>

<p>Arbitrary rotations of FixedResrouce objects will not result in a rotated barrier.  The barrier associated with a FixedResource object will rotate 
to the nearest 90 degrees.</p>

<p><span class="emphasis">Offset Travel - </span>Since offset travel does not use a navigator to calculate where the TaskExecuter moves to, TaskExecuter's
may enter a FixedResource's barrier. To disable this, open the TaskExecuter's properties window and change <span class="alias">Travel offsets for load/unload 
tasks</span> to <span class="alias">Do not travel offsets for load/unload tasks</span>.</p>

<p class="note"><span class="emphasis">Note: </span>The blue box is drawn just above the bottom of the object, so some objects may not show depending
on their 3D shape.</p>


<h3><a name="DeepSearch">Deep Search</a></h3>

<p>Deep search allows travel members to take more direct paths between nodes and 'cut corners'.  By default Deep Search is on. Deep search will cause the algorithm 
to check nodes that are two places away from the start node rather than just one. Below is an example of a travel member's path while deep search is on:</p>

<p><img alt="" src="Images/DeepSearch.png" 
	class="autoresize" style="width: 318px; height: 213px;"/></p>
	
<p>Alternatively, with deep search off, the travel member can only move in 90 degree or 45 degree angles, as shown below:</p>
	
<p><img alt="" src="Images/NoDeepSearch.png" 
	class="autoresize" style="width: 183px; height: 171px;"/></p>
	
<p>A downside of using the deep search option is that it is more processor intensive.  It will take longer to calculate paths between points. Speeds can 
be improved by <a href="#CachedPaths">Caching Paths</a>.</p>


<h3><a name="CachedPaths">Cached Paths</a></h3>

<p><img alt="" src="Images/CachedPaths.png" 
	class="autoresize" style="width: 217px; height: 151px;"/></p>

<p>Each time a travel request is made, the A* algorithm searches from the start node to find the most direct path to the end node.  This is processor intensive and for
large grids with frequent travel requests, can slow your model down. Caching paths can reduce processing time by reusing paths that have already been calculated rather 
than recalculated every time a travel request is made.</p>

<p><span class="emphasis">Paths Cached - </span>The total number of unique paths that have been cached.</p>

<p><span class="emphasis">Path Requests - </span>The total number of travel requests.</p>

<p><span class="emphasis">Cached Paths Used - </span>The total number of travel requests that used a cached path.</p>

<p><span class="emphasis">Utilization - </span>This is the calculated utilization of cached paths to path requests using the equation: 
<span class="alias">CachedPathsUsed / PathRequests * 100</span>.</p>

	
<h3><a name="DrawModes">Draw Modes</a></h3>

<p>Draw modes specify which elements of the A* Navigator will be drawn in the 3D view.</p>

<p><span class="emphasis">Show Barriers - </span>Draws solid barriers, dividers, one-way dividers and preferred paths.</p>

<p><span class="emphasis">Show Bounds - </span>Draws the A* Navigator's bounding box that contains all barriers and nodes. The width of the bounding box is equal to the 
	A* Navigator's Node Spacing.</p>

<p><span class="emphasis">Show Grid - </span>Draws the grid of nodes that can be travelled along by travel members. Note: Drawing the grid can drastically slow down your
	model if the grid is large.</p>

<p><span class="emphasis">Show Members - </span>Draws circles under TaskExecuter objects and rectangles under FixedResource objects that are 'A' connected to the 
	A* Navigator.</p>

<p><span class="emphasis">Show Traffic - </span>Draws paths that have been recently travelled on by travel members. These paths will decay over time if they are not 
	travelled on.</p>


<br/><br/>
	<script type="text/javascript" src="../../help/jquery.min.js"></script>
	<script type="text/javascript" src="../../../help/shadowbox/shadowbox.js"></script>
	<script type="text/javascript" src="../../../help/JavascriptUtilities.js"></script>
	<script>
	$( document ).ready(function() {
		checklivecontent(document.title);
	});
	</script>
</body>
</html>